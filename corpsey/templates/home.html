{% extends "base.html" %}
{% load thumbnail %}

{% block body_id %}homepage{% endblock %}

{% block header %}
    <header class="main"><div class="wrap">
        <h2 class="tc-presents">Trubble Club Presents</h2>
        <h1 id="logo"><a href="/">Corpsey</a></h1>
        <h2 class="intro">A CHAIN COMIC BY <strong>{{ num_artists }}</strong> ARTISTS</h2>
        <ul class="buttons">
          <li class="enter"><a href="/enter_the_catacombs/">Enter the Catacombs</a></li>
          <li class="recent"><a href="/#recent-contributors">Recent Contributors</a></li>
          <li class="about"><a href="/about/">About Infinite Corpse</a></li>
        </ul>
        </nav>
    </div></header>
{% endblock header %}

{% block content %}
  <div class="recent-contributors" id="recent-contributors">
    <h2>Most Recent Contributors</h2>
    {% for comic in comic_set %}
      <article class="comic">
        <h1>{{ comic.artist }} {% if comic.parent %}<small>following {{ comic.parent.artist }}</small>{% endif %}</h1>
        <a href="{% if comic.parent %}/catacombs/{{ comic.parent.id }}/{{ comic.id }}/{% else %}{{ comic.get_absolute_url }}{% endif %}">{% if comic.panel1 %}<img class="panel" src="/static/img/panel-placeholder.png" data-original="{{ comic.panel1.midsize.url }}" width="{{ comic.panel1.midsize.width }}" height="{{ comic.panel1.midsize.height }}" data-original-hd="{{ comic.panel1.midsize_hd.url }}">{% endif %}
        {% if comic.panel2 %}<img class="panel" src="/static/img/panel-placeholder.png" data-original="{{ comic.panel2.midsize.url }}" width="{{ comic.panel1.midsize.width }}" height="{{ comic.panel1.midsize.height }}" data-original-hd="{{ comic.panel2.midsize_hd.url }}">{% endif %}
        {% if comic.panel3 %}<img class="panel" src="/static/img/panel-placeholder.png" data-original="{{ comic.panel3.midsize.url }}" width="{{ comic.panel1.midsize.width }}" height="{{ comic.panel1.midsize.height }}" data-original-hd="{{ comic.panel3.midsize_hd.url }}">{% endif %}</a>
      </article>
      {% if not forloop.last %}
        <div class="bone-divider {% cycle 'odd' 'even' %}"></div>
      {% endif %}
    {% endfor %}
  </div>
{% endblock content %}

{% block extra_javascript %}
  <script src="{{ STATIC_URL }}js/jquery.lazyload.min.js" type="text/javascript"></script>
  <script src="{{ STATIC_URL }}js/home.js?v2" type="text/javascript"></script>
{% endblock extra_javascript %}
